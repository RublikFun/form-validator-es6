'use strict';

var Answer = function Answer(container) {
	this.ranges = {};
	this.required = {};
	this.restrictions = {};
	this.container = container;
	this.value = {};
	this.validations = [];
	this.init();
};
Answer.prototype = {
	init: function init() {
		this.setRanges();
		this.setRequired();
		this.setRestrictions();
		this.formatValue();
		this.setChange(this.container);
	},
	setValidation: function setValidation(arg) {
		if (typeof arg === 'boolean') {
			this.validations.push(arg);
			return;
		}
		this.validations = [];
	},
	getValidation: function getValidation() {
		var i,
		    allAreValid = true;
		for (i = 0; i < this.validations.length; i++) {
			if (this.validations[i] === false) {
				allAreValid = false;
				break;
			}
		}
		return allAreValid;
	},
	setRanges: function setRanges() {
		var self = this;
		$(this.container).each(function () {
			self.ranges[$(this).data('field')] = {
				max: $(this).data('max') || false,
				min: $(this).data('min') || false
			};
		});
	},
	setRequired: function setRequired() {
		var self = this;
		$(this.container).each(function () {
			if ($(this).data('required') === false) {
				self.required[$(this).data('field')] = false;
			} else {
				self.required[$(this).data('field')] = true;
			}
		});
	},
	setRestrictions: function setRestrictions() {
		var self = this;
		$(this.container).each(function () {
			if ($(this).data('numeric') === true) {
				self.restrictions[$(this).data('field')] = 'numeric';
			} else {
				self.restrictions[$(this).data('field')] = false;
			}
		});
	},
	setChange: function setChange(els) {
		var self = this;
		els.on('change', function () {
			self.callbackCheck();
			self.formatValue();
		});
	},
	setCallbackChange: function setCallbackChange(els) {
		var self = this,
		    elementsToBind;
		elementsToBind = els.filter(function () {
			if (self.hasField(this)) {
				return this;
			}
		});
		$(elementsToBind).on('change', function () {
			self.formatValue();
		});
	},
	unsetChange: function unsetChange(els) {
		var self = this,
		    elementsToBind;
		elementsToBind = els.filter(function () {
			if (self.hasField(this)) {
				return this;
			}
		});
		$(elementsToBind).off('change');
	},
	callbackCheck: function callbackCheck() {
		var self = this;
		$(this.container).each(function () {
			self.checkForCallback($(this));
		});
	},

	formatValue: function formatValue(shouldReset) {
		var self = this,
		    reset = shouldReset || false;
		$(this.container).each(function () {
			if (reset) {
				self.clearValue($(this));
			}
			self.trackValue($(this));
		});
	},
	trackValue: function trackValue(el) {
		var key = el.data('grouping');
		if (key !== undefined) {
			this.trackDimensionalValue(el, key);
		} else {
			$.extend(this.value, this.formattedValue(el));
		}
	},
	trackDimensionalValue: function trackDimensionalValue(el, key) {
		this.value[key] = this.value[key] === undefined ? {} : this.value[key];
		$.extend(this.value[key], this.formattedValue(el));
	},
	formattedValue: function formattedValue(el) {
		var val = {};
		var key = el.data('field');
		val[key] = this.getDefault(el);
		if (this.hasValue(el)) {
			val[key] = this.getValueOrDefault(el);
			this.removeError(key);
			return val;
		}
		if (this.shouldOverwrite(el)) {
			val[key] = this.getDefault(el);
			return val;
		}
		return;
	},
	getValueOrDefault: function getValueOrDefault(el) {
		var value = el.val();
		if (value === '') {
			value = this.getDefault(el);
		}
		return value;
	},
	getDefault: function getDefault(el) {
		var value = '';
		if (el.data('default') !== undefined) {
			value = el.data('default');
		}
		return value;
	},
	deleteValue: function deleteValue(el) {
		var self = this;
		$(el).each(function () {
			delete self.value[$(this).data('field')];
		});
	},
	checkForCallback: function checkForCallback(el) {
		if (this.hasValue(el)) {
			return this.revealCallback(el);
		}

		return this.revertCallback(el);
	},
	revealCallback: function revealCallback(el) {
		var callbackElement = $('.' + el.data('callback')),
		    self = this;
		if (callbackElement.length > 0) {
			callbackElement.each(function () {
				if (self.hasField(this)) {
					self.addAnswer($(this));
				}
			});
			callbackElement.addClass('active').addClass('js-active');
		}
	},
	revertCallback: function revertCallback(el) {
		var callbackElement = $('.' + el.data('callback'));
		if (callbackElement.length > 0) {
			this.clearValue(callbackElement);
			this.removeAnswer(callbackElement);
			callbackElement.removeClass('active').removeClass('js-active');
		}
	},

	hasValue: function hasValue(container) {
		return this.isValidInput(container) || this.isValidCheckbox(container) || this.isValidSelect(container);
	},
	shouldOverwrite: function shouldOverwrite(el) {
		return this.isDuplicate(el) && this.isFirst(el) || !this.isDuplicate(el);
	},
	isDuplicate: function isUnique(el) {
		return $('[data-field="' + el.data('field') + '"]').length > 1;
	},
	isFirst: function isFirst(el) {
		return $('[data-field="' + el.data('field') + '"]').index(el) === 0;
	},

	clearValue: function clearValue(el) {
		if (this.isValidInput(el)) {
			el.val('');
		}
		el.prop('checked', false);
		el.find('option').prop('selected', false);
	},
	hasField: function hasField(el) {
		if ($(el).data('field')) {
			return true;
		}
		return false;
	},

	addError: function addError(answer) {
		$('[data-field="' + answer + '"]').addClass('js-error').addClass('error');
	},
	removeError: function removeError(answer) {
		$('[data-field="' + answer + '"]').removeClass('js-error').removeClass('error');
	},

	isValid: function isValid() {
		this.setValidation();
		for (var answer in this.value) {
			var value = this.value[answer];
			if (typeof value === 'object') {
				var validity = this.checkGroupValidity(value);
				this.setValidation(validity);
			} else {
				var validity = this.checkIndividualValidity(answer, value);
				this.setValidation(validity);
			}
		}
		return this.getValidation();
	},
	checkGroupValidity: function checkGroupValidity(group) {
		var groupIsValid = true;
		for (var subAnswer in group) {
			groupIsValid = this.checkIndividualValidity(subAnswer, group[subAnswer]);
		}
		return groupIsValid;
	},
	checkIndividualValidity: function checkIndividualValidity(key, value) {
		var fieldIsValid = this.validatePresence(key, value) && this.validateContent(key, value);
		if (fieldIsValid) {
			this.removeError(key);
		}
		return fieldIsValid;
	},

	validatePresence: function validatePresence(key, value) {
		if (!this.isPresent(key, value)) {
			this.addError(key);
			return false;
		}
		return true;
	},
	validateContent: function validateContent(key, value) {
		if (this.isNumericallyValid(key, value) && this.isInRange(key, value)) {
			return true;
		}
		this.addError(key);
		return false;
	},

	isAnAllowableInputType: function isAnAllowableInputType(el) {
		return ['text', 'tel'].indexOf(el.attr('type')) > -1;
	},

	isValidInput: function isValidInput(el) {
		if (this.isAnAllowableInputType(el)) {
			return true;
		}

		return false;
	},
	isValidCheckbox: function isValidCheckbox(el) {
		if (el.prop('checked')) {
			return true;
		}
		return false;
	},
	isValidSelect: function isValidSelect(el) {
		if (el[0].tagName === 'SELECT' && el.val()) {
			return true;
		}
		return false;
	},
	isNumericallyValid: function isNumericallyValid(key, value) {
		var hasRestrictions = this.restrictions !== undefined;
		if (!hasRestrictions) {
			return true;
		}
		if (this.restrictions[key] === 'numeric') {
			return this.isNumeric(value);
		}
		return true;
	},
	isNumeric: function isNumeric(value) {
		if (isNaN(Number(value))) {
			return false;
		}
		return true;
	},
	isAbove: function isAbove(key, value) {
		var min = this.ranges[key].min;
		if (!min) {
			return true;
		}
		return this.isNumeric(value) && value >= min;
	},
	isBelow: function isBelow(key, value) {
		var max = this.ranges[key].max;
		if (!max) {
			return true;
		}
		return this.isNumeric(value) && value <= max;
	},

	isPresent: function isPresent(key, value) {
		return this.required[key] === false || value !== '';
	},
	isInRange: function isInRange(key, value) {
		if (this.ranges[key] === undefined) {
			return true;
		}
		return this.isAbove(key, value) && this.isBelow(key, value);
	},

	addAnswer: function addAnswer(container) {
		this.container = this.container.add(container);
		this.setCallbackChange(container);
		this.setRanges();
		this.setRequired();
	},
	removeAnswer: function removeAnswer(container) {
		this.container = this.container.not(container);
		this.unsetChange(container);
		this.setRanges();
		this.required = {};
		this.setRequired();
		this.deleteValue(container);
	}

};
'use strict';

var Answers = function Answers() {
	this.privateValue = {};
	this.all = [];
};
Answers.prototype = {
	createAnswer: function createAnswer(dom) {
		var answer = new Answer(dom);
		this.all.push(answer);
		return answer;
	},
	getRecord: function getRecord() {
		this.report();
		return this.privateValue;
	},
	setRecord: function setRecord(arg) {
		this.privateValue = arg;
	},
	validateAll: function validateAll() {
		for (var i = 0; i < this.all.length; i++) {
			this.all[i].isValid();
		}
	},
	report: function report() {
		for (var i = 0; i < this.all.length; i++) {
			$.extend(this.privateValue, this.all[i].value);
		}
		return this.privateValue;
	},
	resetAll: function resetAll() {
		for (var i = 0; i < this.all.length; i++) {
			this.all[i].formatValue(true);
		}
		this.report();
	}
};
'use strict';

var Scene = function Scene(el) {
	this.container = el;
	this.bound = false;
	return this;
};
Scene.prototype = {
	setCallback: function setCallback() {
		var callback = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];
		var args = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

		this.callback = callback;
		this.args = args;
		return this;
	},
	setScript: function setScript(script) {
		this.script = script || undefined;
		return this;
	},
	setButton: function setButton() {
		var klass = arguments.length <= 0 || arguments[0] === undefined ? '.js-button' : arguments[0];

		this.button = this.findButton(klass);
		return this;
	},
	setAnswer: function setAnswer() {
		var klass = arguments.length <= 0 || arguments[0] === undefined ? '.js-answer' : arguments[0];

		this.answerClass = klass;
		return this;
	},
	bindClicks: function bindClicks() {
		var self = this;
		this.button.each(function () {
			self.bindClick($(this));
		});
	},
	init: function init(script) {
		var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		this.setCallback(opts.callback, opts.callbackArgs).setScript(script).setButton(opts.button).setAnswer(opts.answer).createAnswers().bindClicks();
	},
	createAnswers: function createAnswers() {
		if (this.script === undefined) {
			this.answer = new Answer(this.container.find(this.answerClass));
			return this;
		}
		var answerEl = this.container.find(this.answerClass);
		this.answer = this.script.answers.createAnswer(answerEl);
		return this;
	},
	findButton: function findButton(buttonClass) {
		if (buttonClass !== undefined) {
			return this.container.find(buttonClass);
		}
		return this.container.find('.js-button');
	},
	show: function show() {
		this.container.addClass('active').addClass('js-active');
	},
	hide: function hide() {
		this.container.removeClass('active').removeClass('js-active');
	},
	shake: function shake() {
		this.container.addClass('js-error').addClass('error');
	},
	unshake: function unshake() {
		this.container.removeClass('js-error').removeClass('error');
	},
	handleCallback: function handleCallback() {
		var args = typeof this.args === 'function' ? this.args() : this.args;

		if (this.callback) {
			this.callback(args);
		}
	},
	finalize: function finalize() {
		this.unshake();
		if (this.script !== undefined) {
			this.script.next();
		}
		this.handleCallback();
		return true;
	},
	validate: function validate() {
		this.answer.isValid();
		if ($(this.answer.container).hasClass('js-error')) {
			this.shake();
			return false;
		}
		this.finalize();
	},
	bindClick: function bindClick(el) {
		var self = this;
		el.click(function () {
			self.validate();
		});
		this.bound = true;
	},
	destroy: function destroy() {
		this.hide();
		delete this.answers;
		delete this;
	}
};
'use strict';

var Storyboarder = function Storyboarder(container) {
	var auto = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

	this.container = container || $('.js-storyboard');
	this.scenes = [];
	this.current = 0;
	this.answers = new Answers();
	if (auto) {
		this.init();
	}
	return this;
};
Storyboarder.prototype = {
	report: function report() {
		return this.answers.report();
	},
	setFinished: function setFinished(onFinished, args) {
		this.onFinished = onFinished || false;
		this.args = args || false;
		return this;
	},
	setScene: function setScene(klass) {
		this.sceneClass = klass || '.js-scene';
		return this;
	},
	setButton: function setButton(klass) {
		this.buttonClass = klass || '.js-button';
		return this;
	},
	setAnswer: function setAnswer(klass) {
		this.answerClass = klass || '.js-answer';
		return this;
	},
	makeScenes: function makeScenes(opts) {
		if (this.answers !== undefined) {
			opts.answers = this.answers;
		}
		var self = this;
		this.container.find(this.sceneClass).each(function () {
			self.addScene($(this), opts);
		});
		return this;
	},
	init: function init() {
		var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

		this.setFinished(opts.onFinished, opts.onFinishedArgs).setScene(opts.scene).setButton(opts.button).setAnswer(opts.answer).makeScenes(opts).start();
	},

	addScene: function addScene(el, opts) {
		var scene = new Scene(el);
		scene.init(this, opts);
		this.scenes.push(scene);
	},
	removeScene: function removeScene() {
		this.scenes.pop().destroy();
	},

	addAt: function addAt(index, el, opts) {
		var scene = new Scene(el);
		scene.init(this, opts);
		this.scenes.splice(index, 0, scene);
	},
	removeAt: function removeAt(index) {
		this.scenes.splice(index, 1)[0].destroy();
	},

	previous: function previous() {
		this.scenes[this.current].hide();
		if (this.current > 0) {
			this.untick();
			return true;
		}
		this.start();
	},
	next: function next() {
		this.scenes[this.current].hide();
		if (this.scenes.length - 1 > this.current) {
			this.tick();
			return true;
		}
		this.finish();
	},

	tick: function tick() {
		this.current += 1;
		this.scenes[this.current].show();
	},
	untick: function untick() {
		this.current -= 1;
		this.scenes[this.current].show();
	},

	handleFunction: function handleFunction(funct, args) {
		funct.call(this, args);
	},

	handleArray: function handleArray() {
		this.formatArgsArray();
		for (var i = 0; i < this.onFinished.length; i++) {
			this.onFinished[i].call(this, this.args[i]);
		}
	},
	formatArgsArray: function formatArgsArray() {
		if (typeof this.args === 'object') {
			return;
		}
		this.args = new Array(this.args);
	},
	finish: function finish() {
		this.container.addClass('finished');
		if (this.onFinished) {
			if (typeof this.onFinished === 'function') {
				this.handleFunction(this.onFinished, this.args);
				return;
			}
			this.handleArray();
		}
	},
	start: function start() {
		this.current = 0;
		this.scenes[this.current].show();
		this.container.addClass('started');
	},
	restart: function restart() {
		this.answers.resetAll();
		this.container.removeClass('finished');
		this.start();
	},
	addCallbackToScene: function addCallbackToScene(sceneIdx, callback, arg) {
		var scene = this.scenes[sceneIdx];
		scene.args = arg;
		scene.callback = callback.bind(scene);
	}
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuc3dlci5qcyIsImFuc3dlcnMuanMiLCJzY2VuZS5qcyIsInN0b3J5Ym9hcmRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxNQUFNLEdBQUcsU0FBVCxNQUFNLENBQVksU0FBUyxFQUFDO0FBQy9CLEtBQUksQ0FBQyxNQUFNLEdBQVEsRUFBRSxDQUFDO0FBQ3RCLEtBQUksQ0FBQyxRQUFRLEdBQU0sRUFBRSxDQUFDO0FBQ3RCLEtBQUksQ0FBQyxZQUFZLEdBQUUsRUFBRSxDQUFDO0FBQ3RCLEtBQUksQ0FBQyxTQUFTLEdBQUssU0FBUyxDQUFDO0FBQzdCLEtBQUksQ0FBQyxLQUFLLEdBQVMsRUFBRSxDQUFDO0FBQ3RCLEtBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUNaLENBQUM7QUFDRixNQUFNLENBQUMsU0FBUyxHQUFHO0FBQ2xCLEtBQUksRUFBRSxTQUFTLElBQUksR0FBRTtBQUNwQixNQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDakIsTUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ25CLE1BQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUN2QixNQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDbkIsTUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7RUFDL0I7QUFDRCxjQUFhLEVBQUUsdUJBQVMsR0FBRyxFQUFDO0FBQzNCLE1BQUcsT0FBTyxHQUFHLEtBQUssU0FBUyxFQUFDO0FBQzNCLE9BQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLFVBQU87R0FDUDtBQUNELE1BQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0VBQ3RCO0FBQ0QsY0FBYSxFQUFFLHlCQUFVO0FBQ3hCLE1BQUksQ0FBQztNQUFFLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFDMUIs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Q0FBQyxTQUFTLENBQUMsUUFBUSxDQUFFLFNBQVMsQ0FBRSxDQUFDO0VBQ3JDO0FBQ0QsUUFBTyxFQUFFLFNBQVMsT0FBTyxHQUFFO0FBQzFCLE1BQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDeEIsTUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUUsVUFBVSxDQUFFLENBQUM7QUFDekMsTUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0VBQ2I7QUFDRCxtQkFBa0IsRUFBRSw0QkFBVSxRQUFRLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRztBQUN2RCxNQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDO0FBQ3BDLE9BQUssQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2pCLE9BQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQztFQUN4QztDQUNELENBQUMiLCJmaWxlIjoic3Rvcnlib2FyZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQW5zd2VyID0gZnVuY3Rpb24oY29udGFpbmVyKXtcblx0dGhpcy5yYW5nZXMgICAgICA9IHt9O1xuXHR0aGlzLnJlcXVpcmVkICAgID0ge307XG5cdHRoaXMucmVzdHJpY3Rpb25zPSB7fTtcblx0dGhpcy5jb250YWluZXIgICA9IGNvbnRhaW5lcjtcblx0dGhpcy52YWx1ZSAgICAgICA9IHt9O1xuXHR0aGlzLnZhbGlkYXRpb25zID0gW107XG5cdHRoaXMuaW5pdCgpO1xufTtcbkFuc3dlci5wcm90b3R5cGUgPSB7XG5cdGluaXQ6IGZ1bmN0aW9uIGluaXQoKXtcblx0XHR0aGlzLnNldFJhbmdlcygpO1xuXHRcdHRoaXMuc2V0UmVxdWlyZWQoKTtcblx0XHR0aGlzLnNldFJlc3RyaWN0aW9ucygpO1xuXHRcdHRoaXMuZm9ybWF0VmFsdWUoKTtcblx0XHR0aGlzLnNldENoYW5nZSh0aGlzLmNvbnRhaW5lcik7XG5cdH0sXG5cdHNldFZhbGlkYXRpb246IGZ1bmN0aW9uKGFyZyl7XG5cdFx0aWYodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKXtcblx0XHRcdHRoaXMudmFsaWRhdGlvbnMucHVzaChhcmcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLnZhbGlkYXRpb25zID0gW107XG5cdH0sXG5cdGdldFZhbGlkYXRpb246IGZ1bmN0aW9uKCl7XG5cdFx0dmFyIGksIGFsbEFyZVZhbGlkID0gdHJ1ZTtcblx0XHRmb3IoaSA9IDA7IGkgPCB0aGlzLnZhbGlkYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZih0aGlzLnZhbGlkYXRpb25zW2ldID09PSBmYWxzZSkge1xuXHRcdFx0XHRhbGxBcmVWYWxpZCA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGFsbEFyZVZhbGlkO1xuXHR9LFxuXHRzZXRSYW5nZXM6IGZ1bmN0aW9uIHNldFJhbmdlcygpe1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHQkKHRoaXMuY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRzZWxmLnJhbmdlc1skKHRoaXMpLmRhdGEoJ2ZpZWxkJyldID0ge1xuXHRcdFx0XHRtYXg6ICQodGhpcykuZGF0YSgnbWF4JykgfHwgZmFsc2UsXG5cdFx0XHRcdG1pbjogJCh0aGlzKS5kYXRhKCdtaW4nKSB8fCBmYWxzZVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fSxcblx0c2V0UmVxdWlyZWQ6IGZ1bmN0aW9uIHNldFJlcXVpcmVkKCl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdCQodGhpcy5jb250YWluZXIpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdGlmKCQodGhpcykuZGF0YSgncmVxdWlyZWQnKSA9PT0gZmFsc2UgKXtcblx0XHRcdFx0c2VsZi5yZXF1aXJlZFskKHRoaXMpLmRhdGEoJ2ZpZWxkJyldID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnJlcXVpcmVkWyQodGhpcykuZGF0YSgnZmllbGQnKV0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRzZXRSZXN0cmljdGlvbnM6IGZ1bmN0aW9uIHNldFJlc3RyaWN0aW9ucygpe1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHQkKHRoaXMuY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZigkKHRoaXMpLmRhdGEoJ251bWVyaWMnKSA9PT0gdHJ1ZSApe1xuXHRcdFx0XHRzZWxmLnJlc3RyaWN0aW9uc1skKHRoaXMpLmRhdGEoJ2ZpZWxkJyldID0gJ251bWVyaWMnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5yZXN0cmljdGlvbnNbJCh0aGlzKS5kYXRhKCdmaWVsZCcpXSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRzZXRDaGFuZ2U6IGZ1bmN0aW9uIHNldENoYW5nZShlbHMpe1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRlbHMub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLmNhbGxiYWNrQ2hlY2soKTtcblx0XHRcdFx0c2VsZi5mb3JtYXRWYWx1ZSgpO1xuXHRcdFx0fSk7XG5cdH0sXG5cdHNldENhbGxiYWNrQ2hhbmdlOiBmdW5jdGlvbiBzZXRDYWxsYmFja0NoYW5nZShlbHMpe1xuXHRcdHZhciBzZWxmID0gdGhpcywgZWxlbWVudHNUb0JpbmQ7XG5cdFx0ZWxlbWVudHNUb0JpbmQgPSBlbHMuZmlsdGVyKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihzZWxmLmhhc0ZpZWxkKHRoaXMpKXtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0JChlbGVtZW50c1RvQmluZCkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLmZvcm1hdFZhbHVlKCk7XG5cdFx0XHR9KTtcblx0fSxcblx0dW5zZXRDaGFuZ2U6IGZ1bmN0aW9uIHVuc2V0Q2hhbmdlKGVscyl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzLCBlbGVtZW50c1RvQmluZDtcblx0XHRlbGVtZW50c1RvQmluZCA9IGVscy5maWx0ZXIoZnVuY3Rpb24oKXtcblx0XHRcdGlmKHNlbGYuaGFzRmllbGQodGhpcykpe1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9KTtcblx0XHQkKGVsZW1lbnRzVG9CaW5kKS5vZmYoJ2NoYW5nZScpO1xuXHR9LFxuXHRjYWxsYmFja0NoZWNrOiBmdW5jdGlvbiBjYWxsYmFja0NoZWNrKCl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdCQodGhpcy5jb250YWluZXIpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHNlbGYuY2hlY2tGb3JDYWxsYmFjaygkKHRoaXMpKTtcblx0XHR9KTtcblx0fSxcblxuXHRmb3JtYXRWYWx1ZTogZnVuY3Rpb24gZm9ybWF0VmFsdWUoc2hvdWxkUmVzZXQpe1xuXHRcdHZhciBzZWxmID0gdGhpcywgcmVzZXQgPSBzaG91bGRSZXNldCB8fCBmYWxzZTtcblx0XHQkKHRoaXMuY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihyZXNldCl7XG5cdFx0XHRcdHNlbGYuY2xlYXJWYWx1ZSgkKHRoaXMpKTtcblx0XHRcdH1cblx0XHRcdHNlbGYudHJhY2tWYWx1ZSggJCh0aGlzKSApO1xuXHRcdH0pO1xuXHR9LFxuXHR0cmFja1ZhbHVlOiBmdW5jdGlvbiB0cmFja1ZhbHVlKGVsKXtcblx0XHR2YXIga2V5ID0gZWwuZGF0YSgnZ3JvdXBpbmcnKTtcblx0XHRpZihrZXkgIT09IHVuZGVmaW5lZCl7XG5cdFx0XHR0aGlzLnRyYWNrRGltZW5zaW9uYWxWYWx1ZShlbCwga2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JC5leHRlbmQoIHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0dGVkVmFsdWUoZWwpICk7XG5cdFx0fVxuXHR9LFxuXHR0cmFja0RpbWVuc2lvbmFsVmFsdWU6IGZ1bmN0aW9uIHRyYWNrRGltZW5zaW9uYWxWYWx1ZShlbCwga2V5KXtcblx0XHR0aGlzLnZhbHVlW2tleV0gPSB0aGlzLnZhbHVlW2tleV0gPT09IHVuZGVmaW5lZCA/IHt9IDogdGhpcy52YWx1ZVtrZXldO1xuXHRcdCQuZXh0ZW5kKCB0aGlzLnZhbHVlW2tleV0sIHRoaXMuZm9ybWF0dGVkVmFsdWUoZWwpICk7XG5cdH0sXG5cdGZvcm1hdHRlZFZhbHVlOiBmdW5jdGlvbiBmb3JtYXR0ZWRWYWx1ZShlbCl7XG5cdFx0dmFyIHZhbCA9IHt9O1xuXHRcdHZhciBrZXkgPSBlbC5kYXRhKCAnZmllbGQnICk7XG5cdFx0XHRcdHZhbFsga2V5IF0gPSB0aGlzLmdldERlZmF1bHQoIGVsICk7XG5cdFx0aWYoIHRoaXMuaGFzVmFsdWUoZWwpICl7XG5cdFx0XHR2YWxbIGtleSBdID0gdGhpcy5nZXRWYWx1ZU9yRGVmYXVsdCggZWwgKTtcblx0XHRcdHRoaXMucmVtb3ZlRXJyb3IoIGtleSApO1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdFx0aWYoIHRoaXMuc2hvdWxkT3ZlcndyaXRlKCBlbCApICl7XG5cdFx0XHR2YWxbIGtleSBdID0gdGhpcy5nZXREZWZhdWx0KCBlbCApO1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9LFxuXHRnZXRWYWx1ZU9yRGVmYXVsdDogZnVuY3Rpb24gZ2V0VmFsdWVPckRlZmF1bHQoIGVsICl7XG5cdFx0dmFyIHZhbHVlID0gZWwudmFsKCk7XG5cdFx0aWYoIHZhbHVlID09PSAnJyApe1xuXHRcdFx0dmFsdWUgPSB0aGlzLmdldERlZmF1bHQoIGVsICk7XG5cdFx0fVxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0Z2V0RGVmYXVsdDogZnVuY3Rpb24gZ2V0RGVmYXVsdCggZWwgKXtcblx0XHR2YXIgdmFsdWUgPSAnJztcblx0XHRpZiggZWwuZGF0YSgnZGVmYXVsdCcpICE9PSB1bmRlZmluZWQgKXtcblx0XHRcdHZhbHVlID0gZWwuZGF0YSgnZGVmYXVsdCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdGRlbGV0ZVZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYWx1ZSggZWwgKXtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0JCggZWwgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSBzZWxmLnZhbHVlWyAkKCB0aGlzICkuZGF0YSggJ2ZpZWxkJyApIF07XG5cdFx0fSApO1xuXHR9LFxuXHRjaGVja0ZvckNhbGxiYWNrOiBmdW5jdGlvbiBjaGVja0ZvckNhbGxiYWNrKCBlbCApe1xuXHRcdGlmICggdGhpcy5oYXNWYWx1ZSggZWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLnJldmVhbENhbGxiYWNrKCBlbCApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnJldmVydENhbGxiYWNrKCBlbCApO1xuXHR9LFxuXHRyZXZlYWxDYWxsYmFjazogZnVuY3Rpb24gcmV2ZWFsQ2FsbGJhY2soIGVsICl7XG5cdFx0dmFyIGNhbGxiYWNrRWxlbWVudCA9ICQoICcuJyArIGVsLmRhdGEoICdjYWxsYmFjaycgKSApLFxuXHRcdHNlbGYgPSB0aGlzO1xuXHRcdGlmKCBjYWxsYmFja0VsZW1lbnQubGVuZ3RoID4gMCApe1xuXHRcdFx0Y2FsbGJhY2tFbGVtZW50LmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiggc2VsZi5oYXNGaWVsZCggdGhpcyApICl7XG5cdFx0XHRcdFx0c2VsZi5hZGRBbnN3ZXIoICQoIHRoaXMgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRjYWxsYmFja0VsZW1lbnQuYWRkQ2xhc3MoICdhY3RpdmUnICkuYWRkQ2xhc3MoICdqcy1hY3RpdmUnICk7XG5cdFx0fVxuXHR9LFxuXHRyZXZlcnRDYWxsYmFjazogZnVuY3Rpb24gcmV2ZXJ0Q2FsbGJhY2soIGVsICl7XG5cdFx0dmFyIGNhbGxiYWNrRWxlbWVudCA9ICQoICcuJyArIGVsLmRhdGEoICdjYWxsYmFjaycgKSApO1xuXHRcdGlmKCBjYWxsYmFja0VsZW1lbnQubGVuZ3RoID4gMCApe1xuXHRcdFx0dGhpcy5jbGVhclZhbHVlKCBjYWxsYmFja0VsZW1lbnQgKTtcblx0XHRcdHRoaXMucmVtb3ZlQW5zd2VyKCBjYWxsYmFja0VsZW1lbnQgKTtcblx0XHRcdGNhbGxiYWNrRWxlbWVudC5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKS5yZW1vdmVDbGFzcyggJ2pzLWFjdGl2ZScgKTtcblx0XHR9XG5cdH0sXG5cblxuXHRoYXNWYWx1ZTogZnVuY3Rpb24gaGFzVmFsdWUoY29udGFpbmVyKXtcblx0XHRyZXR1cm4gdGhpcy5pc1ZhbGlkSW5wdXQoY29udGFpbmVyKSB8fFxuXHRcdFx0XHRcdCB0aGlzLmlzVmFsaWRDaGVja2JveChjb250YWluZXIpIHx8XG5cdFx0XHRcdFx0IHRoaXMuaXNWYWxpZFNlbGVjdChjb250YWluZXIpO1xuXHR9LFxuXHRzaG91bGRPdmVyd3JpdGU6IGZ1bmN0aW9uIHNob3VsZE92ZXJ3cml0ZShlbCl7XG5cdFx0cmV0dXJuICggdGhpcy5pc0R1cGxpY2F0ZShlbCkgJiZcblx0XHRcdFx0XHRcdCB0aGlzLmlzRmlyc3QoZWwpICkgfHxcblx0XHRcdFx0XHRcdCF0aGlzLmlzRHVwbGljYXRlKGVsKTtcblx0fSxcblx0aXNEdXBsaWNhdGU6IGZ1bmN0aW9uIGlzVW5pcXVlKGVsKXtcblx0XHRyZXR1cm4gJCgnW2RhdGEtZmllbGQ9XCInK2VsLmRhdGEoJ2ZpZWxkJykrJ1wiXScpLmxlbmd0aCA+IDE7XG5cdH0sXG5cdGlzRmlyc3Q6IGZ1bmN0aW9uIGlzRmlyc3QoZWwpe1xuXHRcdHJldHVybiAkKCdbZGF0YS1maWVsZD1cIicrZWwuZGF0YSgnZmllbGQnKSsnXCJdJykuaW5kZXgoZWwpID09PSAwO1xuXHR9LFxuXG5cdGNsZWFyVmFsdWU6IGZ1bmN0aW9uIGNsZWFyVmFsdWUoZWwpe1xuICAgIGlmKCB0aGlzLmlzVmFsaWRJbnB1dChlbCkgKXtcblx0XHRcdGVsLnZhbCgnJyk7XG5cdFx0fVxuXHRcdGVsLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0ZWwuZmluZCgnb3B0aW9uJykucHJvcCgnc2VsZWN0ZWQnLCBmYWxzZSk7XG5cdH0sXG5cdGhhc0ZpZWxkOiBmdW5jdGlvbiBoYXNGaWVsZCggZWwgKXtcblx0XHRpZiAoJChlbCkuZGF0YSgnZmllbGQnKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRhZGRFcnJvcjogZnVuY3Rpb24gYWRkRXJyb3IoYW5zd2VyKXtcblx0XHQkKCdbZGF0YS1maWVsZD1cIicrYW5zd2VyKydcIl0nKS5hZGRDbGFzcygnanMtZXJyb3InKS5hZGRDbGFzcygnZXJyb3InKTtcblx0fSxcblx0cmVtb3ZlRXJyb3I6IGZ1bmN0aW9uIHJlbW92ZUVycm9yKGFuc3dlcil7XG5cdFx0JCgnW2RhdGEtZmllbGQ9XCInK2Fuc3dlcisnXCJdJykucmVtb3ZlQ2xhc3MoJ2pzLWVycm9yJykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG5cdH0sXG5cblxuXHRpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCl7XG5cdFx0dGhpcy5zZXRWYWxpZGF0aW9uKCk7XG5cdFx0Zm9yKCB2YXIgYW5zd2VyIGluIHRoaXMudmFsdWUgKXtcblx0XHRcdHZhciB2YWx1ZSA9IHRoaXMudmFsdWVbYW5zd2VyXTtcblx0XHRcdGlmKCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICl7XG5cdFx0XHRcdGxldCB2YWxpZGl0eSA9IHRoaXMuY2hlY2tHcm91cFZhbGlkaXR5KCB2YWx1ZSApO1xuXHRcdFx0XHR0aGlzLnNldFZhbGlkYXRpb24oIHZhbGlkaXR5ICk7XG5cdFx0XHR9IGVsc2V7XG5cdFx0XHRcdGxldCB2YWxpZGl0eSA9IHRoaXMuY2hlY2tJbmRpdmlkdWFsVmFsaWRpdHkoIGFuc3dlciwgdmFsdWUgKTtcblx0XHRcdFx0dGhpcy5zZXRWYWxpZGF0aW9uKCB2YWxpZGl0eSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5nZXRWYWxpZGF0aW9uKCk7XG5cdH0sXG5cdGNoZWNrR3JvdXBWYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tHcm91cFZhbGlkaXR5KGdyb3VwKXtcblx0XHR2YXIgZ3JvdXBJc1ZhbGlkID0gdHJ1ZTtcblx0XHRmb3IodmFyIHN1YkFuc3dlciBpbiBncm91cCApe1xuXHRcdFx0Z3JvdXBJc1ZhbGlkID0gdGhpcy5jaGVja0luZGl2aWR1YWxWYWxpZGl0eShzdWJBbnN3ZXIsIGdyb3VwW3N1YkFuc3dlcl0pO1xuXHRcdH1cblx0XHRyZXR1cm4gZ3JvdXBJc1ZhbGlkO1xuXHR9LFxuXHRjaGVja0luZGl2aWR1YWxWYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tJbmRpdmlkdWFsVmFsaWRpdHkoa2V5LCB2YWx1ZSl7XG5cdFx0XHR2YXIgZmllbGRJc1ZhbGlkID0gdGhpcy52YWxpZGF0ZVByZXNlbmNlKGtleSwgdmFsdWUpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgdGhpcy52YWxpZGF0ZUNvbnRlbnQoa2V5LCB2YWx1ZSk7XG5cdFx0XHRpZihmaWVsZElzVmFsaWQpe1xuXHRcdFx0XHR0aGlzLnJlbW92ZUVycm9yKGtleSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmllbGRJc1ZhbGlkO1xuXHR9LFxuXG5cblx0dmFsaWRhdGVQcmVzZW5jZTogZnVuY3Rpb24gdmFsaWRhdGVQcmVzZW5jZShrZXksIHZhbHVlKXtcblx0XHRpZiAoICF0aGlzLmlzUHJlc2VudChrZXksIHZhbHVlKSApIHtcblx0XHRcdHRoaXMuYWRkRXJyb3Ioa2V5KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdHZhbGlkYXRlQ29udGVudDogZnVuY3Rpb24gdmFsaWRhdGVDb250ZW50KGtleSwgdmFsdWUpe1xuXHRcdGlmICggdGhpcy5pc051bWVyaWNhbGx5VmFsaWQoIGtleSwgdmFsdWUgKSAmJlxuXHRcdFx0XHRcdHRoaXMuaXNJblJhbmdlKCBrZXksIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0dGhpcy5hZGRFcnJvcihrZXkpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuICBpc0FuQWxsb3dhYmxlSW5wdXRUeXBlOiBmdW5jdGlvbiBpc0FuQWxsb3dhYmxlSW5wdXRUeXBlKGVsKSB7XG4gICAgcmV0dXJuIFsndGV4dCcsICd0ZWwnXS5pbmRleE9mKGVsLmF0dHIoJ3R5cGUnKSkgPiAtMTtcbiAgfSxcblxuXHRpc1ZhbGlkSW5wdXQ6IGZ1bmN0aW9uIGlzVmFsaWRJbnB1dChlbCkge1xuICAgIGlmICh0aGlzLmlzQW5BbGxvd2FibGVJbnB1dFR5cGUoZWwpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cdGlzVmFsaWRDaGVja2JveDogZnVuY3Rpb24gaXNWYWxpZENoZWNrYm94KGVsKSB7XG5cdFx0aWYgKCBlbC5wcm9wKCdjaGVja2VkJykgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRpc1ZhbGlkU2VsZWN0OiBmdW5jdGlvbiBpc1ZhbGlkU2VsZWN0KGVsKSB7XG5cdFx0aWYgKCBlbFswXS50YWdOYW1lID09PSAnU0VMRUNUJyAmJiBlbC52YWwoKSApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cdGlzTnVtZXJpY2FsbHlWYWxpZDogZnVuY3Rpb24gaXNOdW1lcmljYWxseVZhbGlkKCBrZXksIHZhbHVlICl7XG5cdFx0dmFyIGhhc1Jlc3RyaWN0aW9ucyA9IHRoaXMucmVzdHJpY3Rpb25zICE9PSB1bmRlZmluZWQ7XG5cdFx0aWYoICFoYXNSZXN0cmljdGlvbnMgKXsgcmV0dXJuIHRydWU7IH1cblx0XHRpZiggdGhpcy5yZXN0cmljdGlvbnNba2V5XSA9PT0gJ251bWVyaWMnICl7XG5cdFx0XHRyZXR1cm4gdGhpcy5pc051bWVyaWMoIHZhbHVlICk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRpc051bWVyaWM6IGZ1bmN0aW9uIGlzTnVtZXJpYyggdmFsdWUgKXtcblx0XHRpZiggaXNOYU4oIE51bWJlciggdmFsdWUgKSApICl7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRpc0Fib3ZlOiBmdW5jdGlvbiBpc0Fib3ZlKCBrZXksIHZhbHVlICl7XG5cdFx0dmFyIG1pbiA9IHRoaXMucmFuZ2VzW2tleV0ubWluO1xuXHRcdGlmKCAhbWluICl7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuaXNOdW1lcmljKCB2YWx1ZSApICYmIHZhbHVlID49IG1pbjtcblx0fSxcblx0aXNCZWxvdzogZnVuY3Rpb24gaXNCZWxvdygga2V5LCB2YWx1ZSApe1xuXHRcdHZhciBtYXggPSB0aGlzLnJhbmdlc1trZXldLm1heDtcblx0XHRpZiggIW1heCApe1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmlzTnVtZXJpYyggdmFsdWUgKSAmJiB2YWx1ZSA8PSBtYXg7XG5cdH0sXG5cblxuXHRpc1ByZXNlbnQ6IGZ1bmN0aW9uIGlzUHJlc2VudChrZXksIHZhbHVlKXtcblx0XHRyZXR1cm4gdGhpcy5yZXF1aXJlZFtrZXldID09PSBmYWxzZSB8fCB2YWx1ZSAhPT0gJyc7XG5cdH0sXG5cdGlzSW5SYW5nZTogZnVuY3Rpb24gaXNJblJhbmdlKGtleSwgdmFsdWUpe1xuXHRcdGlmKHRoaXMucmFuZ2VzW2tleV0gPT09IHVuZGVmaW5lZCl7IHJldHVybiB0cnVlOyB9XG5cdFx0cmV0dXJuIHRoaXMuaXNBYm92ZShrZXksIHZhbHVlKSAmJlxuXHRcdFx0XHRcdCB0aGlzLmlzQmVsb3coa2V5LCB2YWx1ZSk7XG5cdH0sXG5cblx0YWRkQW5zd2VyOiBmdW5jdGlvbiBhZGRBbnN3ZXIoY29udGFpbmVyKXtcblx0XHR0aGlzLmNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLmFkZChjb250YWluZXIpO1xuXHRcdHRoaXMuc2V0Q2FsbGJhY2tDaGFuZ2UoY29udGFpbmVyKTtcblx0XHR0aGlzLnNldFJhbmdlcygpO1xuXHRcdHRoaXMuc2V0UmVxdWlyZWQoKTtcblx0fSxcblx0cmVtb3ZlQW5zd2VyOiBmdW5jdGlvbiByZW1vdmVBbnN3ZXIoY29udGFpbmVyKXtcblx0XHR0aGlzLmNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLm5vdChjb250YWluZXIpO1xuXHRcdHRoaXMudW5zZXRDaGFuZ2UoY29udGFpbmVyKTtcblx0XHR0aGlzLnNldFJhbmdlcygpO1xuXHRcdHRoaXMucmVxdWlyZWQgPSB7fTtcblx0XHR0aGlzLnNldFJlcXVpcmVkKCk7XG5cdFx0dGhpcy5kZWxldGVWYWx1ZSggY29udGFpbmVyICk7XG5cdH1cblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEFuc3dlcnMgPSBmdW5jdGlvbigpe1xuXHR0aGlzLnByaXZhdGVWYWx1ZSA9IHt9O1xuXHR0aGlzLmFsbCA9IFtdO1xufTtcbkFuc3dlcnMucHJvdG90eXBlID0ge1xuXHRjcmVhdGVBbnN3ZXIgOiBmdW5jdGlvbiBjcmVhdGVBbnN3ZXIoZG9tKXtcblx0XHR2YXIgYW5zd2VyID0gbmV3IEFuc3dlciggZG9tICk7XG5cdFx0dGhpcy5hbGwucHVzaChhbnN3ZXIpO1xuXHRcdHJldHVybiBhbnN3ZXI7XG5cdH0sXG5cdGdldFJlY29yZDogZnVuY3Rpb24oKXtcblx0XHR0aGlzLnJlcG9ydCgpO1xuXHRcdHJldHVybiB0aGlzLnByaXZhdGVWYWx1ZTtcblx0fSxcblx0c2V0UmVjb3JkOiBmdW5jdGlvbihhcmcpe1xuXHRcdHRoaXMucHJpdmF0ZVZhbHVlID0gYXJnO1xuXHR9LFxuXHR2YWxpZGF0ZUFsbCA6IGZ1bmN0aW9uIHZhbGlkYXRlQWxsKCl7XG5cdFx0Zm9yKHZhciBpID0gMDsgaTwgdGhpcy5hbGwubGVuZ3RoOyBpKyspe1xuXHRcdFx0dGhpcy5hbGxbaV0uaXNWYWxpZCgpO1xuXHRcdH1cblx0fSxcblx0cmVwb3J0IDogZnVuY3Rpb24gcmVwb3J0KCl7XG5cdFx0Zm9yKHZhciBpID0gMDsgaTwgdGhpcy5hbGwubGVuZ3RoOyBpKyspe1xuXHRcdFx0JC5leHRlbmQodGhpcy5wcml2YXRlVmFsdWUsIHRoaXMuYWxsW2ldLnZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMucHJpdmF0ZVZhbHVlO1xuXHR9LFxuXHRyZXNldEFsbCA6IGZ1bmN0aW9uIHJlc2V0QWxsKCl7XG5cdFx0Zm9yKHZhciBpID0gMDsgaTwgdGhpcy5hbGwubGVuZ3RoOyBpKyspe1xuXHRcdFx0dGhpcy5hbGxbaV0uZm9ybWF0VmFsdWUodHJ1ZSk7XG5cdFx0fVxuXHRcdHRoaXMucmVwb3J0KCk7XG5cdH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBTY2VuZSA9IGZ1bmN0aW9uKCBlbCApe1xuXHR0aGlzLmNvbnRhaW5lciAgID0gZWw7XG5cdHRoaXMuYm91bmQgICAgICAgPSBmYWxzZTtcblx0cmV0dXJuIHRoaXM7XG59O1xuU2NlbmUucHJvdG90eXBlID0ge1xuXHRzZXRDYWxsYmFjayA6IGZ1bmN0aW9uIHNldENhbGxiYWNrKCBjYWxsYmFjaz1mYWxzZSwgYXJncz1mYWxzZSApe1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0XHR0aGlzLmFyZ3MgPSBhcmdzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXHRzZXRTY3JpcHQgOiBmdW5jdGlvbiBzZXRTY3JpcHQoIHNjcmlwdCApe1xuXHRcdHRoaXMuc2NyaXB0ID0gc2NyaXB0IHx8IHVuZGVmaW5lZDtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0c2V0QnV0dG9uIDogZnVuY3Rpb24gc2V0QnV0dG9uKCBrbGFzcz0nLmpzLWJ1dHRvbicgKXtcblx0XHR0aGlzLmJ1dHRvbiA9IHRoaXMuZmluZEJ1dHRvbigga2xhc3MgKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0c2V0QW5zd2VyIDogZnVuY3Rpb24gc2V0QW5zd2VyKCBrbGFzcz0nLmpzLWFuc3dlcicgKXtcblx0XHR0aGlzLmFuc3dlckNsYXNzID0ga2xhc3M7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdGJpbmRDbGlja3MgOiBmdW5jdGlvbiBiaW5kQ2xpY2tzKCl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHRoaXMuYnV0dG9uLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHNlbGYuYmluZENsaWNrKCQodGhpcykpO1xuXHRcdH0pO1xuXHR9LFxuXHRpbml0IDogZnVuY3Rpb24gaW5pdCggc2NyaXB0LCBvcHRzPXt9ICl7XG5cdFx0dGhpcy5zZXRDYWxsYmFjayggb3B0cy5jYWxsYmFjaywgb3B0cy5jYWxsYmFja0FyZ3MgKVxuXHRcdFx0XHQuc2V0U2NyaXB0KCBzY3JpcHQgKVxuXHRcdFx0XHQuc2V0QnV0dG9uKCBvcHRzLmJ1dHRvbiApXG5cdFx0XHRcdC5zZXRBbnN3ZXIoIG9wdHMuYW5zd2VyIClcblx0XHRcdFx0LmNyZWF0ZUFuc3dlcnMoKVxuXHRcdFx0XHQuYmluZENsaWNrcygpO1xuXHR9LFxuXHRjcmVhdGVBbnN3ZXJzIDogZnVuY3Rpb24gY3JlYXRlQW5zd2Vycygpe1xuXHRcdGlmKHRoaXMuc2NyaXB0ID09PSB1bmRlZmluZWQpe1xuXHRcdFx0dGhpcy5hbnN3ZXIgPSBuZXcgQW5zd2VyKHRoaXMuY29udGFpbmVyLmZpbmQodGhpcy5hbnN3ZXJDbGFzcykpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdHZhciBhbnN3ZXJFbCA9IHRoaXMuY29udGFpbmVyLmZpbmQodGhpcy5hbnN3ZXJDbGFzcyk7XG5cdFx0dGhpcy5hbnN3ZXIgPSB0aGlzLnNjcmlwdC5hbnN3ZXJzLmNyZWF0ZUFuc3dlciggYW5zd2VyRWwgKTtcblx0XHRyZXR1cm4gdGhpc1xuXHR9LFxuXHRmaW5kQnV0dG9uIDogZnVuY3Rpb24gZmluZEJ1dHRvbihidXR0b25DbGFzcyl7XG5cdFx0aWYoYnV0dG9uQ2xhc3MgIT09IHVuZGVmaW5lZCl7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250YWluZXIuZmluZChidXR0b25DbGFzcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lci5maW5kKCcuanMtYnV0dG9uJyk7XG5cdH0sXG5cdHNob3cgOiBmdW5jdGlvbiBzaG93KCl7XG5cdFx0dGhpcy5jb250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcblx0fSxcblx0aGlkZSA6IGZ1bmN0aW9uIGhpZGUoKXtcblx0XHR0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuXHR9LFxuXHRzaGFrZSA6IGZ1bmN0aW9uIHNoYWtlKCl7XG5cdFx0dGhpcy5jb250YWluZXIuYWRkQ2xhc3MoJ2pzLWVycm9yJykuYWRkQ2xhc3MoJ2Vycm9yJyk7XG5cdH0sXG5cdHVuc2hha2UgOiBmdW5jdGlvbiB1bnNoYWtlKCl7XG5cdFx0dGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2pzLWVycm9yJykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG5cdH0sXG5cdGhhbmRsZUNhbGxiYWNrOiBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjaygpIHtcblx0XHR2YXIgYXJncyA9IHR5cGVvZiB0aGlzLmFyZ3MgPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHR0aGlzLmFyZ3MoKSA6IHRoaXMuYXJncztcblxuXHRcdGlmICggdGhpcy5jYWxsYmFjaykge1xuXHRcdFx0dGhpcy5jYWxsYmFjayggYXJncyApO1xuXHRcdH1cblx0fSxcblx0ZmluYWxpemUgOiBmdW5jdGlvbiBmaW5hbGl6ZSgpe1xuXHRcdHRoaXMudW5zaGFrZSgpO1xuXHRcdGlmKHRoaXMuc2NyaXB0ICE9PSB1bmRlZmluZWQpe1xuXHRcdFx0dGhpcy5zY3JpcHQubmV4dCgpO1xuXHRcdH1cblx0XHR0aGlzLmhhbmRsZUNhbGxiYWNrKCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdHZhbGlkYXRlIDogZnVuY3Rpb24gdmFsaWRhdGUoKXtcblx0XHR0aGlzLmFuc3dlci5pc1ZhbGlkKCk7XG5cdFx0aWYoJCh0aGlzLmFuc3dlci5jb250YWluZXIpLmhhc0NsYXNzKCdqcy1lcnJvcicpKXtcblx0XHRcdHRoaXMuc2hha2UoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dGhpcy5maW5hbGl6ZSgpO1xuXHR9LFxuXHRiaW5kQ2xpY2sgOiBmdW5jdGlvbiBiaW5kQ2xpY2soZWwpe1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRlbC5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0c2VsZi52YWxpZGF0ZSgpO1xuXHRcdH0pO1xuXHRcdHRoaXMuYm91bmQgPSB0cnVlO1xuXHR9LFxuXHRkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCl7XG5cdFx0dGhpcy5oaWRlKCk7XG5cdFx0ZGVsZXRlIHRoaXMuYW5zd2Vycztcblx0XHRkZWxldGUgdGhpcztcblx0fVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFN0b3J5Ym9hcmRlciA9IGZ1bmN0aW9uKCBjb250YWluZXIsIGF1dG89dHJ1ZSApIHtcblx0dGhpcy5jb250YWluZXIgICA9IGNvbnRhaW5lciB8fCAkKCcuanMtc3Rvcnlib2FyZCcpO1xuXHR0aGlzLnNjZW5lcyAgICAgID0gW107XG5cdHRoaXMuY3VycmVudCAgICAgPSAwO1xuXHR0aGlzLmFuc3dlcnMgICAgID0gbmV3IEFuc3dlcnMoKTtcblx0aWYoIGF1dG8gKXtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn07XG5TdG9yeWJvYXJkZXIucHJvdG90eXBlID0ge1xuXHRyZXBvcnQ6IGZ1bmN0aW9uIHJlcG9ydCgpe1xuXHRcdHJldHVybiB0aGlzLmFuc3dlcnMucmVwb3J0KCk7XG5cdH0sXG5cdHNldEZpbmlzaGVkIDogZnVuY3Rpb24gc2V0RmluaXNoZWQoIG9uRmluaXNoZWQsIGFyZ3MgKXtcblx0XHR0aGlzLm9uRmluaXNoZWQgPSBvbkZpbmlzaGVkICB8fCBmYWxzZTtcblx0XHR0aGlzLmFyZ3MgPSBhcmdzIHx8IGZhbHNlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXHRzZXRTY2VuZSA6IGZ1bmN0aW9uIHNldFNjZW5lKCBrbGFzcyApe1xuXHRcdHRoaXMuc2NlbmVDbGFzcyAgPSBrbGFzcyAgfHwgJy5qcy1zY2VuZSc7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdHNldEJ1dHRvbiA6IGZ1bmN0aW9uIHNldEJ1dHRvbigga2xhc3MgKXtcblx0XHR0aGlzLmJ1dHRvbkNsYXNzID0ga2xhc3MgfHwgJy5qcy1idXR0b24nO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXHRzZXRBbnN3ZXIgOiBmdW5jdGlvbiBzZXRBbnN3ZXIoIGtsYXNzICl7XG5cdFx0dGhpcy5hbnN3ZXJDbGFzcyA9IGtsYXNzIHx8ICcuanMtYW5zd2VyJztcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0bWFrZVNjZW5lcyA6IGZ1bmN0aW9uIG1ha2VTY2VuZXMoIG9wdHMgKXtcblx0XHRpZiggdGhpcy5hbnN3ZXJzICE9PSB1bmRlZmluZWQgKXtcblx0XHRcdG9wdHMuYW5zd2VycyA9IHRoaXMuYW5zd2Vycztcblx0XHR9XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHRoaXMuY29udGFpbmVyLmZpbmQoIHRoaXMuc2NlbmVDbGFzcyApLmVhY2goIGZ1bmN0aW9uKCl7XG5cdFx0XHRzZWxmLmFkZFNjZW5lKCAkKCB0aGlzICksIG9wdHMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXNcblx0fSxcblx0aW5pdCA6IGZ1bmN0aW9uIGluaXQoIG9wdHMgPSB7fSApe1xuXHRcdHRoaXMuc2V0RmluaXNoZWQoIG9wdHMub25GaW5pc2hlZCwgb3B0cy5vbkZpbmlzaGVkQXJncyApXG5cdFx0XHRcdC5zZXRTY2VuZSggb3B0cy5zY2VuZSApXG5cdFx0XHRcdC5zZXRCdXR0b24oIG9wdHMuYnV0dG9uIClcblx0XHRcdFx0LnNldEFuc3dlciggb3B0cy5hbnN3ZXIgKVxuXHRcdFx0XHQubWFrZVNjZW5lcyggb3B0cyApXG5cdFx0XHRcdC5zdGFydCgpO1xuXHR9LFxuXG5cdGFkZFNjZW5lIDogZnVuY3Rpb24gYWRkU2NlbmUoIGVsLCBvcHRzICl7XG5cdFx0bGV0IHNjZW5lID0gbmV3IFNjZW5lKCBlbCApO1xuXHRcdHNjZW5lLmluaXQoIHRoaXMsIG9wdHMgKTtcblx0XHR0aGlzLnNjZW5lcy5wdXNoKCBzY2VuZSApO1xuXHR9LFxuXHRyZW1vdmVTY2VuZSA6IGZ1bmN0aW9uIHJlbW92ZVNjZW5lKCl7XG5cdFx0dGhpcy5zY2VuZXMucG9wKCkuZGVzdHJveSgpO1xuXHR9LFxuXG5cblx0YWRkQXQgOiBmdW5jdGlvbiBhZGRBdCggaW5kZXgsIGVsLCBvcHRzICl7XG5cdFx0bGV0IHNjZW5lID0gbmV3IFNjZW5lKCBlbCApO1xuXHRcdHNjZW5lLmluaXQoIHRoaXMsIG9wdHMgKTtcblx0XHR0aGlzLnNjZW5lcy5zcGxpY2UoIGluZGV4LCAwLCBzY2VuZSApO1xuXHR9LFxuXHRyZW1vdmVBdCA6IGZ1bmN0aW9uIHJlbW92ZUF0KCBpbmRleCApe1xuXHRcdHRoaXMuc2NlbmVzLnNwbGljZSggaW5kZXgsIDEgKVsgMCBdLmRlc3Ryb3koKTtcblx0fSxcblxuXG5cdHByZXZpb3VzIDogZnVuY3Rpb24gcHJldmlvdXMoKXtcblx0XHR0aGlzLnNjZW5lc1sgdGhpcy5jdXJyZW50IF0uaGlkZSgpO1xuXHRcdGlmKCB0aGlzLmN1cnJlbnQgPiAwICl7XG5cdFx0XHR0aGlzLnVudGljaygpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHRoaXMuc3RhcnQoKTtcblx0fSxcblx0bmV4dCA6IGZ1bmN0aW9uIG5leHQoKXtcblx0XHR0aGlzLnNjZW5lc1sgdGhpcy5jdXJyZW50IF0uaGlkZSgpO1xuXHRcdGlmKCB0aGlzLnNjZW5lcy5sZW5ndGggLTEgPiB0aGlzLmN1cnJlbnQgKXtcblx0XHRcdHRoaXMudGljaygpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHRoaXMuZmluaXNoKCk7XG5cdH0sXG5cblxuXHR0aWNrIDogZnVuY3Rpb24gdGljaygpe1xuXHRcdHRoaXMuY3VycmVudCArPSAxO1xuXHRcdHRoaXMuc2NlbmVzWyB0aGlzLmN1cnJlbnQgXS5zaG93KCk7XG5cdH0sXG5cdHVudGljayA6IGZ1bmN0aW9uIHVudGljaygpe1xuXHRcdHRoaXMuY3VycmVudCAtPSAxO1xuXHRcdHRoaXMuc2NlbmVzWyB0aGlzLmN1cnJlbnQgXS5zaG93KCk7XG5cdH0sXG5cblx0aGFuZGxlRnVuY3Rpb24gOiBmdW5jdGlvbiBoYW5kbGVGdW5jdGlvbiggZnVuY3QsIGFyZ3MgKXtcblx0XHRmdW5jdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdH0sXG5cblx0aGFuZGxlQXJyYXkgOiBmdW5jdGlvbiBoYW5kbGVBcnJheSgpe1xuXHRcdHRoaXMuZm9ybWF0QXJnc0FycmF5KCk7XG5cdFx0Zm9yKCBsZXQgaSA9IDA7IGk8IHRoaXMub25GaW5pc2hlZC5sZW5ndGg7IGkrKyApe1xuXHRcdFx0dGhpcy5vbkZpbmlzaGVkWyBpIF0uY2FsbCggdGhpcywgdGhpcy5hcmdzWyBpIF0gKTtcblx0XHR9XG5cdH0sXG5cdGZvcm1hdEFyZ3NBcnJheSA6IGZ1bmN0aW9uIGZvcm1hdEFyZ3NBcnJheSgpe1xuXHRcdGlmKCB0eXBlb2YgdGhpcy5hcmdzID09PSAnb2JqZWN0JyApe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmFyZ3MgPSBuZXcgQXJyYXkoIHRoaXMuYXJncyApO1xuXHR9LFxuXHRmaW5pc2ggOiBmdW5jdGlvbiBmaW5pc2goKXtcblx0XHR0aGlzLmNvbnRhaW5lci5hZGRDbGFzcygnZmluaXNoZWQnKTtcblx0XHRpZiggdGhpcy5vbkZpbmlzaGVkICl7XG5cdFx0XHRpZiggdHlwZW9mIHRoaXMub25GaW5pc2hlZCA9PT0gJ2Z1bmN0aW9uJyApe1xuXHRcdFx0XHR0aGlzLmhhbmRsZUZ1bmN0aW9uKCB0aGlzLm9uRmluaXNoZWQsIHRoaXMuYXJncyApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhhbmRsZUFycmF5KCk7XG5cdFx0fVxuXHR9LFxuXHRzdGFydCA6IGZ1bmN0aW9uIHN0YXJ0KCl7XG5cdFx0dGhpcy5jdXJyZW50ID0gMDtcblx0XHR0aGlzLnNjZW5lc1sgdGhpcy5jdXJyZW50IF0uc2hvdygpO1xuXHRcdHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCAnc3RhcnRlZCcgKTtcblx0fSxcblx0cmVzdGFydDogZnVuY3Rpb24gcmVzdGFydCgpe1xuXHRcdHRoaXMuYW5zd2Vycy5yZXNldEFsbCgpO1xuXHRcdHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKCAnZmluaXNoZWQnICk7XG5cdFx0dGhpcy5zdGFydCgpO1xuXHR9LFxuXHRhZGRDYWxsYmFja1RvU2NlbmU6IGZ1bmN0aW9uKCBzY2VuZUlkeCwgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgc2NlbmUgPSB0aGlzLnNjZW5lc1sgc2NlbmVJZHggXTtcblx0XHRzY2VuZS5hcmdzID0gYXJnO1xuXHRcdHNjZW5lLmNhbGxiYWNrID0gY2FsbGJhY2suYmluZCggc2NlbmUgKTtcblx0fVxufTtcbiJdfQ==
